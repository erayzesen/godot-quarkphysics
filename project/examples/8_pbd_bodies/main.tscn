[gd_scene load_steps=4 format=3 uid="uid://b07dx1g015v5r"]

[ext_resource type="Texture2D" uid="uid://dd5t0hki4gur8" path="res://examples/8_pbd_bodies/sprites/godot_pixel_17x16.png" id="1_i8jge"]

[sub_resource type="Gradient" id="Gradient_5kq2g"]
interpolation_mode = 2
offsets = PackedFloat32Array(0.208333, 0.835648)
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_f3c86"]
gradient = SubResource("Gradient_5kq2g")
width = 256
height = 256
fill = 2
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(1, 1)

[node name="Node2D" type="Node2D"]

[node name="QWorldNode" type="QWorldNode" parent="."]
gravity = Vector2(0, 0.1)
debug_renderer = false
enable_debug_mouse_interactions = true

[node name="background" type="ColorRect" parent="."]
offset_right = 1030.0
offset_bottom = 580.0
mouse_filter = 2

[node name="Floor" type="QRigidBodyNode" parent="."]
mode = 1
layers = 2
position = Vector2(519, 555)

[node name="QMeshRectNode" type="QMeshRectNode" parent="Floor"]
rectangle_size = Vector2(2000, 300)
enable_vector_rendering = true
enable_stroke = true
data_particle_positions = PackedVector2Array(-1000, -150, 1000, -150, 1000, 150, -1000, 150)
data_particle_radius = PackedFloat32Array(0.5, 0.5, 0.5, 0.5)
data_particle_is_internal = PackedByteArray(0, 0, 0, 0)
data_particle_is_enabled = PackedByteArray(1, 1, 1, 1)
data_particle_is_lazy = PackedByteArray(0, 0, 0, 0)
data_springs = Array[PackedInt32Array]([PackedInt32Array(0, 1), PackedInt32Array(1, 2), PackedInt32Array(2, 3), PackedInt32Array(3, 0)])
data_internal_springs = Array[PackedInt32Array]([PackedInt32Array(0, 2), PackedInt32Array(1, 3)])
data_polygon = PackedInt32Array(0, 1, 2, 3)
data_uv_maps = Array[PackedInt32Array]([PackedInt32Array(0, 1, 3), PackedInt32Array(1, 2, 3)])

[node name="Walls" type="QRigidBodyNode" parent="."]
mode = 1
layers = 2
position = Vector2(64, -320)

[node name="QMeshRectNode" type="QMeshRectNode" parent="Walls"]
rectangle_size = Vector2(300, 2000)
enable_vector_rendering = true
enable_stroke = true
data_particle_positions = PackedVector2Array(-150, -1000, 150, -1000, 150, 1000, -150, 1000)
data_particle_radius = PackedFloat32Array(0.5, 0.5, 0.5, 0.5)
data_particle_is_internal = PackedByteArray(0, 0, 0, 0)
data_particle_is_enabled = PackedByteArray(1, 1, 1, 1)
data_particle_is_lazy = PackedByteArray(0, 0, 0, 0)
data_springs = Array[PackedInt32Array]([PackedInt32Array(0, 1), PackedInt32Array(1, 2), PackedInt32Array(2, 3), PackedInt32Array(3, 0)])
data_internal_springs = Array[PackedInt32Array]([PackedInt32Array(0, 2), PackedInt32Array(1, 3)])
data_polygon = PackedInt32Array(0, 1, 2, 3)
data_uv_maps = Array[PackedInt32Array]([PackedInt32Array(0, 1, 3), PackedInt32Array(1, 2, 3)])

[node name="Walls2" type="QRigidBodyNode" parent="."]
mode = 1
layers = 2
position = Vector2(896, -304)

[node name="QMeshRectNode" type="QMeshRectNode" parent="Walls2"]
rectangle_size = Vector2(300, 2000)
enable_vector_rendering = true
enable_stroke = true
data_particle_positions = PackedVector2Array(-150, -1000, 150, -1000, 150, 1000, -150, 1000)
data_particle_radius = PackedFloat32Array(0.5, 0.5, 0.5, 0.5)
data_particle_is_internal = PackedByteArray(0, 0, 0, 0)
data_particle_is_enabled = PackedByteArray(1, 1, 1, 1)
data_particle_is_lazy = PackedByteArray(0, 0, 0, 0)
data_springs = Array[PackedInt32Array]([PackedInt32Array(0, 1), PackedInt32Array(1, 2), PackedInt32Array(2, 3), PackedInt32Array(3, 0)])
data_internal_springs = Array[PackedInt32Array]([PackedInt32Array(0, 2), PackedInt32Array(1, 3)])
data_polygon = PackedInt32Array(0, 1, 2, 3)
data_uv_maps = Array[PackedInt32Array]([PackedInt32Array(0, 1, 3), PackedInt32Array(1, 2, 3)])

[node name="QTexturedPBDBodyNode" type="QTexturedPBDBodyNode" parent="."]
texture = ExtResource("1_i8jge")
texture_scale = 10.0
sfd_texture = SubResource("GradientTexture2D_f3c86")
sfd_shader_alpha_threshold = 0.6
break_distance = 15.0
pixel_step_size = 1.0
rigidity = 0.1
self_collision = true
shape_matching_rate = 0.1
position = Vector2(368, 256)

[node name="QRigidBodyNode" type="QRigidBodyNode" parent="."]
position = Vector2(592, 208)

[node name="QMeshCircleNode" type="QMeshCircleNode" parent="QRigidBodyNode"]
enable_vector_rendering = true
enable_stroke = true
data_particle_positions = PackedVector2Array(0, 0)
data_particle_radius = PackedFloat32Array(32)
data_particle_is_internal = PackedByteArray(0)

[node name="QRigidBodyNode2" type="QRigidBodyNode" parent="."]
position = Vector2(656, 272)

[node name="QMeshCircleNode" type="QMeshCircleNode" parent="QRigidBodyNode2"]
enable_vector_rendering = true
enable_stroke = true
data_particle_positions = PackedVector2Array(0, 0)
data_particle_radius = PackedFloat32Array(32)
data_particle_is_internal = PackedByteArray(0)
